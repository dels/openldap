# ------------------------------------------------------------------------------
# OpenLDAP Configuration Environment Variables
# ------------------------------------------------------------------------------

# -- Custom Entrypoint Variables --
LDAP_DOMAIN=example.org
LDAP_BASE_DN=dc=example,dc=org
LDAP_ADMIN_DN=cn=admin,dc=example,dc=org
LDAP_ORGANIZATION=Example Organization

# -- Standard Ports --
# The port mapped to the host
HOST_LDAP_PORT=389
HOST_LDAPS_PORT=636
# The internal port OpenLDAP is listening on (Bitnami default: 1389)
LDAP_PORT_NUMBER=389
# The internal port OpenLDAP is listening for TLS (Bitnami default: 1636)
LDAP_LDAPS_PORT_NUMBER=636

# -- Bitnami OpenLDAP Standard Variables --
LDAP_ROOT=dc=example,dc=org
LDAP_ADMIN_USERNAME=admin
LDAP_ADMIN_PASSWORD=adminpassword
LDAP_CONFIG_ADMIN_ENABLED=no
LDAP_CONFIG_ADMIN_USERNAME=admin
LDAP_CONFIG_ADMIN_PASSWORD=configpassword

# -- User and Group Provisioning --
LDAP_USERS=
LDAP_PASSWORDS=
LDAP_USER_OU=users
LDAP_GROUP_OU=groups
LDAP_GROUP=

# -- Schemas and Custom Scripts --
LDAP_ADD_SCHEMAS=yes
LDAP_EXTRA_SCHEMAS=cosine, inetorgperson, nis
LDAP_SKIP_DEFAULT_TREE=no
LDAP_CUSTOM_LDIF_DIR=/ldifs
LDAP_CUSTOM_SCHEMA_FILE=/schema/custom.ldif
LDAP_CUSTOM_SCHEMA_DIR=/schemas

# -- Server Settings --
LDAP_ULIMIT_NOFILES=1024
LDAP_ALLOW_ANON_BINDING=no
LDAP_LOGLEVEL=256
LDAP_DEBUG_LEVEL=256
LDAP_PASSWORD_HASH={SSHA}

# -- Password Policy (ppolicy) --
LDAP_CONFIGURE_PPOLICY=no
LDAP_PPOLICY_USE_LOCKOUT=no
LDAP_PPOLICY_HASH_CLEARTEXT=no

# -- TLS Settings --
LDAP_ENABLE_TLS=yes
LDAP_REQUIRE_TLS=yes
LDAP_TLS_CERT_FILE=/opt/bitnami/openldap/certs/openldap.crt
LDAP_TLS_KEY_FILE=/opt/bitnami/openldap/certs/openldap.key
LDAP_TLS_CA_FILE=/opt/bitnami/openldap/certs/openldapCA.crt
LDAP_TLS_DH_PARAMS_FILE=

# -- Resource Limits --
LDAP_CPUS=2
LDAP_MEMORY=2G
LDAP_CPUS_RESERVATION=0.2
LDAP_MEMORY_RESERVATION=256M